<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Paciente | MOVIDA</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/cadastrar-paciente.css') }}">
</head>

<body>

    <div class="layout">

        <!-- SIDEBAR -->
        <aside class="sidebar">
            <h2>{{ session['empresa_nome'] }}</h2>

            <ul>
                <li><a href="{{ url_for('tela_principal_estabelecimento') }}">ğŸ¥ Painel</a></li>

                <!-- ROTA CORRETA -->
                <li><a href="{{ url_for('view_cadastrar_paciente') }}" class="active">ğŸ“ Cadastrar Paciente</a></li>

                <li><a href="{{ url_for('lista_pacientes') }}">ğŸ“‹ Lista de Pacientes</a></li>

                <!-- ROTA CORRETA -->
                <li><a href="{{ url_for('config_empresa') }}">âš™ï¸ ConfiguraÃ§Ãµes</a></li>

                <!-- ROTA CORRETA -->
                <li><a href="{{ url_for('logout') }}" class="logout">â» Sair</a></li>
            </ul>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="content">

            <h1>Cadastrar Paciente</h1>

            <!-- FLASH MESSAGES -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                <div class="flash-container">
                    {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
                {% endif %}
            {% endwith %}

            <!-- ROTA CORRETA PARA CADASTRAR PACIENTE -->
            <form action="{{ url_for('action_cadastro') }}" method="POST" class="form-box">

                <div class="form-grid">

                    <div class="input-box">
                        <label for="nome">Nome Completo</label>
                        <input type="text" id="nome" name="nome" required>
                    </div>

                    <div class="input-box">
                        <label for="cpf">CPF</label>
                        <input type="text" id="cpf" name="cpf" required>
                    </div>

                    <div class="input-box">
                        <label for="nascimento">Data de Nascimento</label>
                        <input type="date" id="nascimento" name="nascimento" required>
                    </div>

                    <div class="input-box">
                        <label for="telefone">Telefone</label>
                        <input type="text" id="telefone" name="telefone" required>
                    </div>

                    <div class="input-box wide">
                        <label for="sintomas">Sintomas</label>
                        <textarea id="sintomas" name="sintomas" rows="3" required></textarea>
                    </div>

                    <div class="input-box">
                        <label for="classificacao">ClassificaÃ§Ã£o</label>
                        <select id="classificacao" name="classificacao" required>
                            <option value="verde">Verde</option>
                            <option value="amarelo">Amarelo</option>
                            <option value="laranja">Laranja</option>
                            <option value="vermelho">Vermelho</option>
                        </select>
                    </div>

                    <div class="input-box">
                        <label for="responsavel">ResponsÃ¡vel</label>
                        <input type="text" id="responsavel" name="responsavel" required>
                    </div>

                </div>

                <button type="submit" class="btn-submit">Cadastrar e Adicionar na Fila</button>

            </form>

        </main>

    </div>

    <!-- SocketIO -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/socket-client.js') }}"></script>

</body>
</html>
